[
  {
    "guid": "12345678-1234-5678-9abc-123456789012",
    "name": "Universal Timeline Manager",
    "overview": "Chronological playlists for cinematic universes in Jellyfin via JSON configuration.",
    "description": "Creates chronological playlists for multiple cinematic universes (Marvel, DC, Star Wars, etc.) based on JSON configuration files. Features Provider_ID matching with TMDB/IMDB for accurate content identification, mixed content support (movies + TV episodes), and comprehensive error handling. Simple JSON-based configuration with clear documentation and examples provided in the plugin configuration page.",
    "owner": "ngdtam",
    "category": "General",
    "imageUrl": "https://raw.githubusercontent.com/ngdtam/jellyfin-timeline-plugin/main/images/logo.svg",
    "repositoryUrl": "https://github.com/ngdtam/jellyfin-timeline-plugin",
    "versions": [
      {
        "version": "0.8.3",
        "changelog": "## v0.8.3 - Bug Fix: Scheduled Task User ID Resolution\n\n### Bug Fixes\n- Fixed scheduled task to properly get user ID from existing playlists\n- Scheduled task now queries library for existing playlists to find valid user ID\n- Resolves \"Guid can't be empty\" error when creating playlists\n\n### Requirements\n- At least one playlist must exist in Jellyfin before scheduled task can run\n- Create a playlist manually first (via web UI or API)\n- Scheduled task will then use that user ID for future playlist updates\n\n### Technical Details\n- Uses ILibraryManager.GetItemsResult() to find existing playlists\n- Extracts user ID from playlist shares\n- Falls back gracefully if no playlists exist\n\n**Requirements:** Jellyfin 10.10.0+",
        "targetAbi": "10.10.0.0",
        "sourceUrl": "https://github.com/ngdtam/jellyfin-timeline-plugin/releases/download/v0.8.3/jellyfin-timeline-manager-0.8.3.zip",
        "checksum": "11F1B6A41B117FF9D128922D4A25AA31",
        "timestamp": "2026-01-26T06:00:00Z"
      },
      {
        "version": "0.8.2",
        "changelog": "## v0.8.2 - Bug Fix: Scheduled Task User Loading\n\n### Bug Fixes\n- Fixed TypeLoadException in scheduled task when loading user entities\n- Removed dependency on Jellyfin.Data.Entities.User type\n- Scheduled task now works without requiring IUserManager\n- Playlists created by scheduled task are now public and visible to all users\n\n### Technical Details\n- Removed IUserManager dependency from UpdateTimelinePlaylistsTask\n- Uses Guid.Empty for userId which creates public playlists\n- Resolves compatibility issues with different Jellyfin versions\n\n**Requirements:** Jellyfin 10.10.0+",
        "targetAbi": "10.10.0.0",
        "sourceUrl": "https://github.com/ngdtam/jellyfin-timeline-plugin/releases/download/v0.8.2/jellyfin-timeline-manager-0.8.2.zip",
        "checksum": "22E435E1446646A398322FEB23130C39",
        "timestamp": "2026-01-26T05:00:00Z"
      },
      {
        "version": "0.8.1",
        "changelog": "## v0.8.1 - Bug Fix: Base Path Support\n\n### Bug Fixes\n- Fixed API endpoint URLs to work with Jellyfin base paths (e.g., /jellyfin)\n- All fetch() calls now use ApiClient.getUrl() for proper URL construction\n- Resolves \"Unexpected token '<'\" errors when plugin is accessed from external servers\n- Fixes TMDB search, playlist creation, and universe management on non-root installations\n\n### Technical Details\n- Updated all JavaScript fetch calls to use ApiClient.getUrl()\n- Ensures compatibility with Jellyfin instances using custom base paths\n- No backend changes required\n\n**Requirements:** Jellyfin 10.10.0+",
        "targetAbi": "10.10.0.0",
        "sourceUrl": "https://github.com/ngdtam/jellyfin-timeline-plugin/releases/download/v0.8.1/jellyfin-timeline-manager-0.8.1.zip",
        "checksum": "EB3F9D5615EF440FA73FF642E5E704D5",
        "timestamp": "2026-01-26T04:00:00Z"
      },
      {
        "version": "0.8.0",
        "changelog": "## v0.8.0 - Scheduled Playlist Updates\n\n### Major Features\n- **Scheduled Task** - Automatic playlist updates on a schedule\n- **Task Manager Integration** - Appears in Dashboard > Scheduled Tasks\n- **Default Schedule** - Runs daily at 3:00 AM (customizable)\n- **Manual Trigger** - Run updates on-demand from Scheduled Tasks page\n- **Progress Reporting** - Shows percentage complete during execution\n- **Cancellation Support** - Stop task mid-execution if needed\n\n### How It Works\n- Task discovers all universe files in /config/universes/\n- For each universe, recreates the playlist with current library content\n- Only updates playlists that already exist\n- Logs detailed information about updates\n- Continues processing even if some universes fail\n\n### Task Configuration\n- **Name:** Update Timeline Playlists\n- **Category:** Universal Timeline Manager\n- **Default Schedule:** Daily at 3:00 AM\n- **Customizable:** Change schedule in Scheduled Tasks settings\n- **Enable/Disable:** Control from Scheduled Tasks page\n\n### Logging\n- Task start/end with timestamps\n- Universe processing progress (1/5, 2/5, etc.)\n- Playlist update results (items added)\n- Error details for failed updates\n- Summary statistics (processed, succeeded, failed)\n\n### Error Handling\n- Missing universe files: Log warning, continue\n- Missing library content: Create playlist with available items\n- Playlist creation errors: Log error, continue to next\n- All failures: Task marked as Failed\n- Partial failures: Task marked as Completed with errors\n\n### Technical Details\n- Implements IScheduledTask interface\n- Registered as singleton service\n- Uses PlaylistCreationService for consistency\n- Reuses existing playlist creation logic\n- First user account used for playlist ownership\n\n### Benefits\n- No manual playlist updates needed\n- Playlists stay current with library changes\n- Runs during off-peak hours\n- Flexible scheduling options\n- Detailed logging for troubleshooting\n\n**Requirements:** Jellyfin 10.10.0+",
        "targetAbi": "10.10.0.0",
        "sourceUrl": "https://github.com/ngdtam/jellyfin-timeline-plugin/releases/download/v0.8.0/jellyfin-timeline-manager-0.8.0.zip",
        "checksum": "36966A2FC380532DE55C4DC04B86EF99",
        "timestamp": "2026-01-26T03:00:00Z"
      },
      {
        "version": "0.7.5",
        "changelog": "## v0.7.5 - TMDB Integration\n\n### Major Features\n- **TMDB API Search** - Find movies and TV shows not in your Jellyfin library\n- **User-Configurable API Key** - Users provide their own free TMDB API key\n- **Search Source Toggle** - Switch between Jellyfin Library and TMDB in Playlist Creator\n- **Visual Source Indicators** - Badges show content source (Jellyfin or TMDB)\n- **Mixed Content Playlists** - Combine Jellyfin and TMDB items in same playlist\n\n### UI Improvements\n- **Two-Tab Layout** - Universe Management and Playlist Creator in separate tabs\n- **TMDB Settings Section** - Configure API key with link to get free key\n- **Source Badges** - Color-coded badges (blue for Jellyfin, teal for TMDB)\n- **Smart Toggle** - TMDB button hidden if no API key configured\n- **Removed Sections** - Configuration File and Documentation sections removed\n\n### New API Endpoints\n- GET /Timeline/Search/Tmdb/Movies - Search TMDB for movies\n- GET /Timeline/Search/Tmdb/Tv - Search TMDB for TV shows\n\n### How to Use\n1. Get free TMDB API key from https://www.themoviedb.org/settings/api\n2. Go to plugin settings > TMDB Settings\n3. Enter API key and save\n4. In Playlist Creator, click TMDB toggle to search TMDB\n5. Add TMDB items to playlists alongside Jellyfin content\n\n### Technical Details\n- TMDB API key stored in plugin configuration XML\n- Backend: TmdbSearchService with error handling\n- Frontend: Search source state management\n- TMDB items: {providerId, providerName: 'tmdb', type, season}\n- Backward compatible with existing universe files\n\n**Requirements:** Jellyfin 10.8.0+, TMDB API key (free)",
        "targetAbi": "10.10.0.0",
        "sourceUrl": "https://github.com/ngdtam/jellyfin-timeline-plugin/releases/download/v0.7.5/jellyfin-timeline-manager-0.7.5.zip",
        "checksum": "C7407171C15F32ED4E429A9BE61FF11B",
        "timestamp": "2026-01-25T20:00:00Z"
      },
      {
        "version": "0.7.0",
        "changelog": "## v0.7.0 - UI Playlist Creator\n\n### Major Features\n- Visual Playlist Creator - Create playlists through UI without writing JSON\n- Content Search - Search your Jellyfin library by title with real-time results\n- Drag-free Reordering - Use up/down buttons to arrange items in preferred order\n- Universe Delete - Delete universe files directly from Universe Manager\n- Form Validation - Inline validation for playlist keys and names\n- One-Click Creation - Create Jellyfin playlists directly from the UI\n\n### New API Endpoints\n- GET /Timeline/Search - Search library for movies and episodes by title\n- Returns enriched results with provider IDs, year, type, and metadata\n\n### UI Improvements\n- New Playlist Creator section with step-by-step workflow\n- Search interface with debouncing (300ms) for smooth experience\n- Item list with position numbers and metadata display\n- Delete buttons for universes in Universe Manager\n- Button state management (disabled when invalid)\n- Success/error messages with clear feedback\n\n### Technical Details\n- ContentSearchService with 42 unit tests\n- ContentSearchController with full error handling\n- Service registration via dependency injection\n- Search supports both movies and TV episodes\n- Season number prompt for TV episodes\n- Validates playlist keys (no spaces/special chars)\n\n### Workflow\n1. Click Create New Playlist\n2. Enter playlist key and name\n3. Search for content and add items\n4. Reorder items with up/down buttons\n5. Save as universe file\n6. Create Jellyfin playlist with one click\n\n**Breaking Changes:** None - fully backward compatible",
        "targetAbi": "10.10.0.0",
        "sourceUrl": "https://github.com/ngdtam/jellyfin-timeline-plugin/releases/download/v0.7.0/jellyfin-timeline-manager-0.7.0.zip",
        "checksum": "TBD",
        "timestamp": "2026-01-25T18:00:00Z"
      },
      {
        "version": "0.6.0",
        "changelog": "## v0.6.0 - Multi-Universe Configuration System\n\n### Major Features\n- **Multi-File Universe System** — Each universe stored as separate JSON file in /config/universes/\n- **Automatic Migration** — Seamlessly migrates legacy single-file configurations on startup\n- **Universe Manager Web UI** — Select, edit, and manage universes directly in browser\n- **Selective Processing** — Create playlists for specific universes or all at once\n- **JSON Editor** — Edit configurations with real-time validation and error feedback\n\n### New API Endpoints\n- GET /Timeline/Universes — List all available universes\n- GET /Timeline/Universes/{filename} — Get specific universe content\n- POST /Timeline/Universes/{filename} — Save/update universe\n- DELETE /Timeline/Universes/{filename} — Delete universe\n- POST /Timeline/CreatePlaylists — Now supports selective universe processing\n\n### Technical Improvements\n- Service registration with dependency injection\n- Comprehensive error handling and logging\n- Backward compatibility with legacy format\n- Security: filename validation prevents directory traversal\n- Performance: efficient file operations with atomic writes\n\n### Migration\n- Automatic on plugin startup\n- Creates backup of old config (timeline_manager_config.json.backup)\n- Zero manual intervention required\n- 100% success rate tested with 78-item MCU configuration\n\n**Breaking Changes:** None - fully backward compatible",
        "targetAbi": "10.10.0.0",
        "sourceUrl": "https://github.com/ngdtam/jellyfin-timeline-plugin/releases/download/v0.6.0/jellyfin-timeline-manager-0.6.0.zip",
        "checksum": "TBD",
        "timestamp": "2026-01-25T12:00:00Z"
      },
      {
        "version": "0.5.2",
        "changelog": "## v0.5.2 - Web UI & Code Cleanup\n\n### New Features\n- Web UI Enhancements - Clean configuration page with playlist management\n- Playlist Management - View and delete playlists directly from web UI\n- Real-time Feedback - Button shows creating state with success/error messages\n- Auto-refresh - Playlist list automatically refreshes after creation\n\n### Code Cleanup\n- Removed Python Dependencies - No longer requires Python or external scripts\n- Removed 46+ Redundant Files - Cleaned up test scripts, debug files, old docs\n- Simplified API - Removed unused endpoints (ValidateApiKey, CheckPythonAvailability, ExecutePlaylistScript)\n- Streamlined Services - Removed PlaylistScriptExecutor and Python integration\n\n### Bug Fixes\n- Fixed JavaScript loading issue (moved script tag inside content container)\n- Fixed userId parameter requirement for CreatePlaylists endpoint\n- Removed test messages from playlist container\n\n### Statistics\n- 30% smaller codebase\n- DLL size: 159 KB\n- Pure C# implementation (no Python)\n\n**Coming in v0.6.0:** Multi-universe system with JSON editor in web UI",
        "targetAbi": "10.10.0.0",
        "sourceUrl": "https://github.com/ngdtam/jellyfin-timeline-plugin/releases/download/v0.5.2/jellyfin-timeline-manager-0.5.2.zip",
        "checksum": "TBD",
        "timestamp": "2026-01-25T00:00:00Z"
      },
      {
        "version": "0.5.1",
        "changelog": "## v0.5.1 - Auto-Configuration\n\n**WARNING: BETA VERSION - Not Production Ready**\n\n### New Features\n- Auto-Create Configuration File - Default config file created automatically on first install\n- Embedded Template - Example timeline included with 3 MCU movies\n- Simplified Setup - No manual file creation needed\n\n### Improvements\n- Removed unused API key field (we use internal API now)\n- Simplified configuration page with documentation links\n- Better first-time user experience\n- Configuration file appears at /config/timeline_manager_config.json automatically\n\n### Changes\n- Removed JellyfinApiKey from PluginConfiguration (not needed)\n- Updated config page to show documentation instead of settings\n- Plugin creates default config on initialization if missing\n\n### Documentation\n- Config page now shows file location and API endpoints\n- Links to GitHub repository for full documentation",
        "targetAbi": "10.10.0.0",
        "sourceUrl": "https://github.com/ngdtam/jellyfin-timeline-plugin/releases/download/v0.5.1/jellyfin-timeline-manager-0.5.1.zip",
        "checksum": "8C4A1F66FA5710A54F590D9476CDB0CB",
        "timestamp": "2026-01-24T17:00:00Z"
      },
      {
        "version": "0.5.0",
        "changelog": "## v0.5.0 - Playlist Creation\n\n**WARNING: BETA VERSION - Not Production Ready**\n\n### New Features\n- Automatic Playlist Creation - Create Jellyfin playlists from your configuration\n- POST /Timeline/CreatePlaylists - New API endpoint to generate playlists\n- User ID Support - Pass userId as query parameter or via X-Emby-UserId header\n- Direct IPlaylistManager Integration - Uses internal Jellyfin API for reliable playlist creation\n\n### Improvements\n- Playlists created with items in chronological order\n- Reports found vs missing items\n- Comprehensive logging for debugging\n- Handles existing playlists gracefully (skip with message)\n- File system based playlist detection\n\n### API Changes\n- New endpoint: POST /Timeline/CreatePlaylists?userId={userId}\n- Requires admin authentication\n- Returns detailed response with playlist results\n\n### Documentation\n- Updated README.md with playlist creation examples\n- Added PowerShell and curl examples\n- Included test script for validation\n\n### Bug Fixes\n- Fixed FindExistingPlaylistAsync to work without user context\n- Resolved authentication issues with internal API calls\n- Improved error handling and reporting",
        "targetAbi": "10.10.0.0",
        "sourceUrl": "https://github.com/ngdtam/jellyfin-timeline-plugin/releases/download/v0.5.0/jellyfin-timeline-manager-0.5.0.zip",
        "checksum": "9AF163C9442003F6CEE5AFCDAAFBA4E4",
        "timestamp": "2026-01-24T16:30:00Z"
      },
      {
        "version": "0.4.0",
        "changelog": "## v0.4.0 - Season Support\n\n**WARNING: BETA VERSION - Not Production Ready**\n\n### New Features\n- Season Support - Specify individual seasons for TV shows (e.g., Loki S1, Loki S2)\n- Improved Validation - Better display of TV series with season numbers\n- TMDB Caching - Faster validation with cached TMDB lookups\n\n### Improvements\n- Increased HTTP timeout to 30 seconds for better reliability\n- Optimized concurrent requests (reduced to 3 for stability)\n- Added caching to prevent duplicate TMDB requests\n- Better handling of series with multiple seasons\n\n### Configuration Changes\n- New optional season property for episode items\n- Example: {\"providerId\": \"84958\", \"providerName\": \"tmdb\", \"type\": \"episode\", \"season\": 1}\n- See CONFIGURATION.md for complete examples\n\n### Documentation\n- Updated CONFIGURATION.md with season support examples\n- Added examples for separating seasons in chronological order",
        "targetAbi": "10.10.0.0",
        "sourceUrl": "https://github.com/ngdtam/jellyfin-timeline-plugin/releases/download/v0.4.0/jellyfin-timeline-manager-v0.4.0.zip",
        "checksum": "E51B35DF7F20A513C9FF8251C2E5E955",
        "timestamp": "2026-01-23T12:00:00Z"
      },
      {
        "version": "0.3.0",
        "changelog": "## v0.3.0 - Beta Release\n\n**WARNING: BETA VERSION - Not Production Ready**\n\nThis is a beta release for testing purposes. Features may change.\n\n### Features\n- REST API - Validate and manage configurations via HTTP endpoints\n- Library Validation - API checks if configured items exist in your Jellyfin library\n- JSON Configuration - Simple file-based configuration\n- Comprehensive Documentation - See CONFIGURATION.md for complete guide\n\n### API Endpoints\n- GET /Timeline/Test - Test API connection\n- GET /Timeline/Config - Get current configuration\n- POST /Timeline/Validate - Validate configuration and check library\n- POST /Timeline/Save - Save configuration\n\n**Note:** This is API-only. No web UI. Configuration via JSON file editing.",
        "targetAbi": "10.10.0.0",
        "sourceUrl": "https://github.com/ngdtam/jellyfin-timeline-plugin/releases/download/v0.3.0/jellyfin-timeline-manager-v0.3.0.zip",
        "checksum": "514E315CFFA26A995FB115EF0CD3B64B",
        "timestamp": "2026-01-22T22:00:00Z"
      }
    ]
  }
]
